{
  "hash": "f743443ca8952e94e4819831a86e9e3d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assignment 1: Census Data Quality for Policy Decisions\"\nsubtitle: \"Evaluating Data Reliability for Algorithmic Decision-Making\"\nauthor: \"Nina Carlsen\"\ndate: today\nformat:\n  html:\n    theme: cosmo\n    toc: true\n    toc-location: left\n    code-fold: false\nexecute:\n  warning: false\n  message: false\n---\n\n## Executive Summary\n\nNew Jersey’s ACS income and demographic data reveal a consistent pattern of uneven data quality. County-level analysis shows a spectrum of reliability—some counties meet high-confidence thresholds (MOE \\< 5%), while others fall into moderate or low confidence (\\>5% and \\>10%, respectively). At the tract level, high MOE flags are concentrated in smaller, less populous tracts and in certain counties, indicating that measurement error is structured rather than random.\n\nThese reliability gaps heighten equity concerns. Communities with high MOE—often smaller tracts with higher proportions of racial or ethnic minorities—face greater risk of algorithmic bias because automated tools would rely on less stable estimates. In practice, this could mean under- or over-allocation of services, reinforcing disadvantage in places already experiencing demographic complexity or economic precarity.\n\nUnderlying these issues are small sample sizes, population volatility, and the statistical design of the ACS. Tracts with lower population and more heterogeneous housing or migration patterns yield larger sampling errors. Indicator choice (e.g., median income) also amplifies uncertainty where incomes are dispersed, creating persistent structural risk in precisely those communities where accurate targeting matters most.\n\nTo address these vulnerabilities, the Department should implement MOE-aware standards: require minimum reliability thresholds for algorithmic inputs, weight or smooth high-MOE measures, and mandate human review where confidence is low. Pair these safeguards with investments in improved data—multi-year pooling, administrative records, or targeted oversampling—and publish transparency dashboards so decision-makers and residents can see where algorithmic decisions are strong, where caution is warranted, and where alternative approaches are needed.\n\n## Running Code\n\nWhen you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidycensus)\nlibrary(knitr)\nlibrary(stringr)\n\ncensus_api_key(Sys.getenv(\"e195d3b46a99d2c4f9250dbc870202be7aaf8a2b\"), install = FALSE, overwrite = FALSE)\n\nmy_state <- \"NJ\"\nmy_year  <- 2022\n\nnj_data <- get_acs(\n  geography = \"county\",\n  variables = c(total_pop = \"B01003_001\", median_income = \"B19013_001\"),\n  state = my_state,\n  year = my_year,\n  output = \"wide\"\n)\n\nnj_reliability <- nj_data %>%\n  mutate(\n    county_name = NAME %>% str_remove(\", New Jersey\") %>% str_remove(\" County\"),\n    moe_percentage = 100 * median_incomeM / median_incomeE,\n    reliability = case_when(\n      moe_percentage < 5 ~ \"High Confidence\",\n      moe_percentage <= 10 ~ \"Moderate\",\n      moe_percentage > 10 ~ \"Low Confidence\"\n    )\n  )\n\ntop5 <- nj_reliability %>%\n  mutate(moe_pct = 100 * median_incomeM / median_incomeE) %>%\n  arrange(desc(moe_pct)) %>%\n  slice_head(n = 5) %>%\n  transmute(\n    county_name,\n    median_income = median_incomeE,\n    margin_of_error = median_incomeM,\n    `MOE %` = sprintf(\"%.2f%%\", moe_pct),\n    `Reliability Category` = reliability\n  )\n\nknitr::kable(top5,\n  caption = \"Top 5 NJ Counties with Highest MOE Percentage\",\n  col.names = c(\"County\", \"Median Income\", \"Margin of Error\", \"MOE %\", \"Reliability Category\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Top 5 NJ Counties with Highest MOE Percentage\n\n|County     | Median Income| Margin of Error|MOE % |Reliability Category |\n|:----------|-------------:|---------------:|:-----|:--------------------|\n|Cape May   |        83,870|           3,707|4.42% |High Confidence      |\n|Salem      |        73,378|           3,047|4.15% |High Confidence      |\n|Cumberland |        62,310|           2,205|3.54% |High Confidence      |\n|Atlantic   |        73,113|           1,917|2.62% |High Confidence      |\n|Gloucester |        99,668|           2,605|2.61% |High Confidence      |\n\n\n:::\n\n```{.r .cell-code}\nselected_counties <- nj_reliability %>%\n  filter(county_name %in% c(\"Somerset\", \"Essex\", \"Middlesex\")) %>%\n  mutate(moe_pct = 100 * median_incomeM / median_incomeE) %>%\n  transmute(\n    county_name,\n    median_income = median_incomeE,\n    `MOE %` = sprintf(\"%.2f%%\", moe_pct),\n    `Reliability Category` = reliability\n  )\n\nknitr::kable(selected_counties,\n  caption = \"Selected Counties for Tract-Level Study\",\n  col.names = c(\"County\", \"Median Income\", \"MOE %\", \"Reliability Category\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Selected Counties for Tract-Level Study\n\n|County    | Median Income|MOE % |Reliability Category |\n|:---------|-------------:|:-----|:--------------------|\n|Essex     |        73,785|2.00% |High Confidence      |\n|Middlesex |       105,206|1.46% |High Confidence      |\n|Somerset  |       131,948|2.49% |High Confidence      |\n\n\n:::\n\n```{.r .cell-code}\nrace_vars <- c(\n  total = \"B03002_001\",\n  white = \"B03002_003\",\n  black = \"B03002_004\",\n  hispanic = \"B03002_012\"\n)\n\ntract_demo <- get_acs(\n  geography = \"tract\",\n  state = my_state,\n  county = c(\"035\", \"013\", \"023\"),\n  year = my_year,\n  variables = race_vars,\n  output = \"wide\"\n)\n\nnj_counties <- tidycensus::fips_codes %>%\n  filter(state_code == \"34\") %>%\n  distinct(county_code, county) %>%\n  rename(county_name = county)\n\ntract_demo <- tract_demo %>%\n  mutate(county_code = substr(GEOID, 3, 5)) %>%\n  left_join(nj_counties, by = \"county_code\") %>%\n  select(-county_code) %>%\n  mutate(\n    pct_white = if_else(totalE > 0, 100 * whiteE / totalE, NA_real_),\n    pct_black = if_else(totalE > 0, 100 * blackE / totalE, NA_real_),\n    pct_hispanic = if_else(totalE > 0, 100 * hispanicE / totalE, NA_real_)\n  )\n\ntop_hispanic_tract <- tract_demo %>%\n  filter(!is.na(pct_hispanic)) %>%\n  arrange(desc(pct_hispanic)) %>%\n  slice_head(n = 1) %>%\n  transmute(\n    Tract = NAME,\n    County = county_name,\n    `Hispanic %` = sprintf(\"%.2f%%\", pct_hispanic)\n  )\n\nknitr::kable(top_hispanic_tract,\n  caption = \"Tract with Highest Percent Hispanic/Latino (Selected NJ Counties)\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Tract with Highest Percent Hispanic/Latino (Selected NJ Counties)\n\n|Tract                                            |County           |Hispanic % |\n|:------------------------------------------------|:----------------|:----------|\n|Census Tract 45.01; Middlesex County; New Jersey |Middlesex County |93.18%     |\n\n\n:::\n\n```{.r .cell-code}\ncounty_avgs <- tract_demo %>%\n  group_by(county_name) %>%\n  summarise(\n    n_tracts = n(),\n    avg_white = mean(pct_white, na.rm = TRUE),\n    avg_black = mean(pct_black, na.rm = TRUE),\n    avg_hispanic = mean(pct_hispanic, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %>%\n  arrange(desc(avg_hispanic)) %>%\n  transmute(\n    county_name, n_tracts,\n    `Avg White %` = sprintf(\"%.2f%%\", avg_white),\n    `Avg Black %` = sprintf(\"%.2f%%\", avg_black),\n    `Avg Hispanic %` = sprintf(\"%.2f%%\", avg_hispanic)\n  )\n\nknitr::kable(county_avgs,\n  caption = \"Average Tract Demographics by County (Simple Averages of Tract %s)\",\n  col.names = c(\"County\", \"# Tracts\", \"Avg White %\", \"Avg Black %\", \"Avg Hispanic %\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Average Tract Demographics by County (Simple Averages of Tract %s)\n\n|County           | # Tracts|Avg White % |Avg Black % |Avg Hispanic % |\n|:----------------|--------:|:-----------|:-----------|:--------------|\n|Essex County     |      211|24.98%      |41.78%      |23.42%         |\n|Middlesex County |      192|41.42%      |9.01%       |22.04%         |\n|Somerset County  |       74|55.04%      |8.49%       |15.71%         |\n\n\n:::\n\n```{.r .cell-code}\ndemographic_moe <- tract_demo %>%\n  mutate(\n    white_moe_pct = if_else(whiteE > 0, 100 * whiteM / whiteE, NA_real_),\n    black_moe_pct = if_else(blackE > 0, 100 * blackM / blackE, NA_real_),\n    hispanic_moe_pct = if_else(hispanicE > 0, 100 * hispanicM / hispanicE, NA_real_),\n    any_high_moe = pmax(white_moe_pct, black_moe_pct, hispanic_moe_pct, na.rm = TRUE) > 15\n  )\n\noverall_moe_summary <- demographic_moe %>%\n  summarise(\n    total_tracts = n(),\n    tracts_high_moe = sum(any_high_moe, na.rm = TRUE),\n    pct_high_moe = 100 * tracts_high_moe / total_tracts,\n    avg_white_moe = mean(white_moe_pct, na.rm = TRUE),\n    avg_black_moe = mean(black_moe_pct, na.rm = TRUE),\n    avg_hispanic_moe = mean(hispanic_moe_pct, na.rm = TRUE)\n  )\n\nknitr::kable(overall_moe_summary,\n  caption = \"Overall MOE Summary (Tract-Level)\",\n  col.names = c(\"Total Tracts\", \"Tracts with High MOE (>15%)\", \"% High MOE\",\n                \"Avg White MOE %\", \"Avg Black MOE %\", \"Avg Hispanic MOE %\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Overall MOE Summary (Tract-Level)\n\n| Total Tracts| Tracts with High MOE (>15%)| % High MOE| Avg White MOE %| Avg Black MOE %| Avg Hispanic MOE %|\n|------------:|---------------------------:|----------:|---------------:|---------------:|------------------:|\n|          477|                         475|   99.58071|        41.36221|        67.43944|           54.67326|\n\n\n:::\n\n```{.r .cell-code}\nby_county_moe_summary <- demographic_moe %>%\n  group_by(county_name) %>%\n  summarise(\n    n_tracts = n(),\n    tracts_high_moe = sum(any_high_moe, na.rm = TRUE),\n    pct_high_moe = 100 * tracts_high_moe / n_tracts,\n    avg_white_moe = mean(white_moe_pct, na.rm = TRUE),\n    avg_black_moe = mean(black_moe_pct, na.rm = TRUE),\n    avg_hispanic_moe = mean(hispanic_moe_pct, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %>%\n  arrange(desc(pct_high_moe))\n\nknitr::kable(by_county_moe_summary,\n  caption = \"MOE Summary by County (Tract-Level)\",\n  col.names = c(\"County\", \"# Tracts\", \"# High MOE Tracts\", \"% High MOE\",\n                \"Avg White MOE %\", \"Avg Black MOE %\", \"Avg Hispanic MOE %\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: MOE Summary by County (Tract-Level)\n\n|County           | # Tracts| # High MOE Tracts| % High MOE| Avg White MOE %| Avg Black MOE %| Avg Hispanic MOE %|\n|:----------------|--------:|-----------------:|----------:|---------------:|---------------:|------------------:|\n|Somerset County  |       74|                74|  100.00000|        19.13539|        89.37551|           57.43529|\n|Essex County     |      211|               210|   99.52607|        63.57233|        50.26734|           58.15423|\n|Middlesex County |      192|               191|   99.47917|        26.94955|        78.32860|           49.86328|\n\n\n:::\n\n```{.r .cell-code}\npattern_summary <- demographic_moe %>%\n  group_by(any_high_moe) %>%\n  summarise(\n    n_tracts = n(),\n    avg_population = mean(totalE, na.rm = TRUE),\n    avg_white_pct = mean(pct_white, na.rm = TRUE),\n    avg_black_pct = mean(pct_black, na.rm = TRUE),\n    avg_hisp_pct = mean(pct_hispanic, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %>%\n  mutate(\n    `MOE Group` = if_else(any_high_moe, \"High MOE (≥15% any group)\", \"Low MOE (<15%)\")\n  ) %>%\n  select(`MOE Group`, n_tracts, avg_population, avg_white_pct, avg_black_pct, avg_hisp_pct)\n\nknitr::kable(pattern_summary,\n  caption = \"Comparison of Tracts by Data Quality (High vs. Low MOE)\",\n  col.names = c(\"MOE Group\", \"Number of Tracts\",\n                \"Avg Population\", \"Avg White %\", \"Avg Black %\", \"Avg Hispanic %\"),\n  format.args = list(big.mark = \",\", digits = 2)\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Comparison of Tracts by Data Quality (High vs. Low MOE)\n\n|MOE Group                 | Number of Tracts| Avg Population| Avg White %| Avg Black %| Avg Hispanic %|\n|:-------------------------|----------------:|--------------:|-----------:|-----------:|--------------:|\n|High MOE (≥15% any group) |              475|          4,334|          36|          23|             22|\n|NA                        |                2|              0|         NaN|         NaN|            NaN|\n\n\n:::\n\n```{.r .cell-code}\nrecommendations <- nj_reliability %>%\n  mutate(\n    moe_pct = 100 * median_incomeM / median_incomeE,\n    reliability = case_when(\n      is.finite(moe_pct) & moe_pct < 5   ~ \"High Confidence\",\n      is.finite(moe_pct) & moe_pct < 10  ~ \"Moderate Confidence\",\n      is.finite(moe_pct) & moe_pct >= 10 ~ \"Low Confidence\",\n      TRUE ~ NA_character_\n    ),\n    recommendation = case_when(\n      reliability == \"High Confidence\"      ~ \"Safe for algorithmic decisions\",\n      reliability == \"Moderate Confidence\"  ~ \"Use with caution - monitor outcomes\",\n      reliability == \"Low Confidence\"       ~ \"Requires manual review or additional data\",\n      TRUE ~ \"Review data\"\n    )\n  ) %>%\n  transmute(\n    county = county_name,\n    median_income = median_incomeE,\n    `MOE %` = sprintf(\"%.2f%%\", moe_pct),\n    reliability,\n    recommendation\n  )\n\nknitr::kable(\n  recommendations,\n  caption = \"County Reliability & Algorithm Recommendations\",\n  col.names = c(\"County\", \"Median Income\", \"MOE %\", \"Reliability Category\", \"Recommendation\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: County Reliability & Algorithm Recommendations\n\n|County     | Median Income|MOE % |Reliability Category |Recommendation                 |\n|:----------|-------------:|:-----|:--------------------|:------------------------------|\n|Atlantic   |        73,113|2.62% |High Confidence      |Safe for algorithmic decisions |\n|Bergen     |       118,714|1.35% |High Confidence      |Safe for algorithmic decisions |\n|Burlington |       102,615|1.40% |High Confidence      |Safe for algorithmic decisions |\n|Camden     |        82,005|1.72% |High Confidence      |Safe for algorithmic decisions |\n|Cape May   |        83,870|4.42% |High Confidence      |Safe for algorithmic decisions |\n|Cumberland |        62,310|3.54% |High Confidence      |Safe for algorithmic decisions |\n|Essex      |        73,785|2.00% |High Confidence      |Safe for algorithmic decisions |\n|Gloucester |        99,668|2.61% |High Confidence      |Safe for algorithmic decisions |\n|Hudson     |        86,854|2.05% |High Confidence      |Safe for algorithmic decisions |\n|Hunterdon  |       133,534|2.42% |High Confidence      |Safe for algorithmic decisions |\n|Mercer     |        92,697|2.33% |High Confidence      |Safe for algorithmic decisions |\n|Middlesex  |       105,206|1.46% |High Confidence      |Safe for algorithmic decisions |\n|Monmouth   |       118,527|1.61% |High Confidence      |Safe for algorithmic decisions |\n|Morris     |       130,808|2.08% |High Confidence      |Safe for algorithmic decisions |\n|Ocean      |        82,379|1.77% |High Confidence      |Safe for algorithmic decisions |\n|Passaic    |        84,465|1.85% |High Confidence      |Safe for algorithmic decisions |\n|Salem      |        73,378|4.15% |High Confidence      |Safe for algorithmic decisions |\n|Somerset   |       131,948|2.49% |High Confidence      |Safe for algorithmic decisions |\n|Sussex     |       111,094|2.46% |High Confidence      |Safe for algorithmic decisions |\n|Union      |        95,000|2.33% |High Confidence      |Safe for algorithmic decisions |\n|Warren     |        92,620|2.60% |High Confidence      |Safe for algorithmic decisions |\n\n\n:::\n\n```{.r .cell-code}\nhigh_conf_counties <- recommendations %>% filter(reliability == \"High Confidence\") %>% pull(county)\nmoderate_conf_counties <- recommendations %>% filter(reliability == \"Moderate Confidence\") %>% pull(county)\nlow_conf_counties <- recommendations %>% filter(reliability == \"Low Confidence\") %>% pull(county)\n```\n:::\n\n",
    "supporting": [
      "Assignment1_NSC_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}